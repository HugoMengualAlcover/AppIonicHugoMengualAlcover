<app-header></app-header>

<ion-content class="ion-padding">
  <swiper [pagination]="true" class="slide-full">
    <ng-template *ngFor="let u of url" swiperSlide>
      <ion-card mode="ios">
        <ion-img [src]="u" class="imgSlide"></ion-img>
      </ion-card>
    </ng-template>
  </swiper>

  <br>

  <ion-list>
    <ion-label color="success"><strong>{{serie.nombre}} </strong></ion-label>
    <ion-badge color="danger">
      {{puntuacionMedia}}
    </ion-badge>
    <br><br>
    <ion-label><strong>Categorias: </strong> </ion-label>
    <ion-label *ngFor="let c of categorias">{{c.nombre}}</ion-label>
    <br><br>
    <ion-label><strong>Número Capítulos:</strong> {{serie.numeroCapitulos}}</ion-label>
    <br><br>
    <ion-label><strong>Sinopsis:</strong> {{serie.sinopsis}}</ion-label>
    <br><br>
    <ion-label><strong>Año de Emisión:</strong> {{serie.year}}</ion-label>
  </ion-list>


  <br>
  <ion-button id="open-modal" expand="block" color="danger">Puntúa la serie</ion-button>
  <ion-item-divider></ion-item-divider>

  <ion-modal trigger="open-modal" (willDismiss)="onWillDismiss($event)">
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-buttons slot="start">
            <ion-button (click)="cancel()">Cancel</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
        <form #formulario="ngForm" (ngSubmit)="onSubmitTemplate()">
          <ion-list>
            <ion-list-header>
              <ion-label>
                Formulario template: Valid
                <span [ngClass]="{'red':!formulario.valid,'green':formulario.valid}">
                {{formulario.valid}}
              </span>
              </ion-label>
            </ion-list-header>
            <ion-item>
              <ion-label position="floating">Email</ion-label>
              <ion-input type="email"
                         name="Email"
                         [(ngModel)]="email"
                         pattern="^([a-zA-Z0-9.-_]{1,})+@([a-zA-Z.-]{2,})+\.+([a-zA-Z]{2,5})"
                         required="true">

              </ion-input>
              <ion-label position="floating">Puntuación</ion-label>
              <ion-input type="number"
                         name="Puntuación"
                         [(ngModel)]="punt"
                         required="true">
              </ion-input>
            </ion-item>
          </ion-list>
          <ion-button expand="full" type="submit" [disabled]="formulario.invalid" (click)="enviar(id)">Enviar</ion-button>
        </form>
      </ion-content>
    </ng-template>
  </ion-modal>


  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button color="success">
      <ion-icon name="Add"></ion-icon>
    </ion-fab-button>

    <ion-fab-list side="top">
      <ion-fab-button color="primary">
        <ion-icon name="logo-twitter"></ion-icon>
      </ion-fab-button>

      <ion-fab-button color="danger">
        <ion-icon name="logo-youtube"></ion-icon>
      </ion-fab-button>

      <ion-fab-button color="tertiary">
        <ion-icon name="logo-instagram"></ion-icon>
      </ion-fab-button>
    </ion-fab-list>
  </ion-fab>

</ion-content>
